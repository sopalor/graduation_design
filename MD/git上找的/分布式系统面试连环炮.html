<html>
<head>
  <title>分布式系统面试连环炮</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600475 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="473"/>
<h1>分布式系统面试连环炮</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">分布式系统面试连环炮</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">有一些同学，之前呢主要是做传统行业，或者外包项目，一直是在那种小的公司，技术一直都搞的比较简单。他们有共同的一个问题，就是都没怎么搞过分布式系统，现在互联网公司，一般都是做分布式的系统，大家都不是做底层的分布式系统、分布式存储系统 hadoop hdfs、分布式计算系统 hadoop mapreduce / spark、分布式流式计算系统 storm。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">分布式业务系统，就是把原来用 Java 开发的一个大块系统，给拆分成<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">多个子系统</strong>，多个子系统之间互相调用，形成一个大系统的整体。假设原来你做了一个 OA 系统，里面包含了权限模块、员工模块、请假模块、财务模块，一个工程，里面包含了一堆模块，模块与模块之间会互相去调用，1 台机器部署。现在如果你把这个系统给拆开，权限系统、员工系统、请假系统、财务系统 4 个系统，4 个工程，分别在 4 台机器上部署。一个请求过来，完成这个请求，这个员工系统，调用权限系统，调用请假系统，调用财务系统，4 个系统分别完成了一部分的事情，最后 4 个系统都干完了以后，才认为是这个请求已经完成了。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><img src="/images/simple-distributed-system-oa.png" style="line-height: 160%; margin: 4px 0 10px; box-sizing: border-box; vertical-align: top; max-width: 100%;"></img></p>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">近几年开始兴起和流行 Spring Cloud，刚流行，还没开始普及，目前普及的是 dubbo，因此这里也主要讲 dubbo。</p>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">面试官可能会问你以下问题。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">为什么要进行系统拆分？</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">为什么要进行系统拆分？如何进行系统拆分？拆分后不用dubbo可以吗？dubbo和thrift有什么区别呢？</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">分布式服务框架</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">说一下的 dubbo 的工作原理？注册中心挂了可以继续通信吗？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">dubbo 支持哪些序列化协议？说一下 hessian 的数据结构？PB 知道吗？为什么 PB 的效率是最高的？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">dubbo 负载均衡策略和高可用策略都有哪些？动态代理策略呢？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">dubbo 的 spi 思想是什么？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">如何基于 dubbo 进行服务治理、服务降级、失败重试以及超时重试？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">分布式服务接口的幂等性如何设计（比如不能重复扣款）？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">分布式服务接口请求的顺序性如何保证？</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">如何自己设计一个类似 dubbo 的 rpc 框架？</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">分布式锁</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">使用 redis 如何设计分布式锁？使用 zk 来设计分布式锁可以吗？这两种分布式锁的实现方式哪种效率比较高？</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">分布式事务</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">分布式事务了解吗？你们如何解决分布式事务问题的？TCC 如果出现网络连不通怎么办？XA 的一致性如何保证？</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">分布式会话</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">集群部署时的分布式 session 如何实现？</li>
</ul>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%23%20%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E9%9D%A2%E8%AF%95%E8%BF%9E%E7%8E%AF%E7%82%AE%0A%E6%9C%89%E4%B8%80%E4%BA%9B%E5%90%8C%E5%AD%A6%EF%BC%8C%E4%B9%8B%E5%89%8D%E5%91%A2%E4%B8%BB%E8%A6%81%E6%98%AF%E5%81%9A%E4%BC%A0%E7%BB%9F%E8%A1%8C%E4%B8%9A%EF%BC%8C%E6%88%96%E8%80%85%E5%A4%96%E5%8C%85%E9%A1%B9%E7%9B%AE%EF%BC%8C%E4%B8%80%E7%9B%B4%E6%98%AF%E5%9C%A8%E9%82%A3%E7%A7%8D%E5%B0%8F%E7%9A%84%E5%85%AC%E5%8F%B8%EF%BC%8C%E6%8A%80%E6%9C%AF%E4%B8%80%E7%9B%B4%E9%83%BD%E6%90%9E%E7%9A%84%E6%AF%94%E8%BE%83%E7%AE%80%E5%8D%95%E3%80%82%E4%BB%96%E4%BB%AC%E6%9C%89%E5%85%B1%E5%90%8C%E7%9A%84%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E5%B0%B1%E6%98%AF%E9%83%BD%E6%B2%A1%E6%80%8E%E4%B9%88%E6%90%9E%E8%BF%87%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%8E%B0%E5%9C%A8%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%EF%BC%8C%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF%E5%81%9A%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%A4%A7%E5%AE%B6%E9%83%BD%E4%B8%8D%E6%98%AF%E5%81%9A%E5%BA%95%E5%B1%82%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%20hadoop%20hdfs%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97%E7%B3%BB%E7%BB%9F%20hadoop%20mapreduce%20%2F%20spark%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E6%B5%81%E5%BC%8F%E8%AE%A1%E7%AE%97%E7%B3%BB%E7%BB%9F%20storm%E3%80%82%0A%0A%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%9A%E5%8A%A1%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%B0%B1%E6%98%AF%E6%8A%8A%E5%8E%9F%E6%9D%A5%E7%94%A8%20Java%20%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A4%A7%E5%9D%97%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%BB%99%E6%8B%86%E5%88%86%E6%88%90**%E5%A4%9A%E4%B8%AA%E5%AD%90%E7%B3%BB%E7%BB%9F**%EF%BC%8C%E5%A4%9A%E4%B8%AA%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B9%8B%E9%97%B4%E4%BA%92%E7%9B%B8%E8%B0%83%E7%94%A8%EF%BC%8C%E5%BD%A2%E6%88%90%E4%B8%80%E4%B8%AA%E5%A4%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B4%E4%BD%93%E3%80%82%E5%81%87%E8%AE%BE%E5%8E%9F%E6%9D%A5%E4%BD%A0%E5%81%9A%E4%BA%86%E4%B8%80%E4%B8%AA%20OA%20%E7%B3%BB%E7%BB%9F%EF%BC%8C%E9%87%8C%E9%9D%A2%E5%8C%85%E5%90%AB%E4%BA%86%E6%9D%83%E9%99%90%E6%A8%A1%E5%9D%97%E3%80%81%E5%91%98%E5%B7%A5%E6%A8%A1%E5%9D%97%E3%80%81%E8%AF%B7%E5%81%87%E6%A8%A1%E5%9D%97%E3%80%81%E8%B4%A2%E5%8A%A1%E6%A8%A1%E5%9D%97%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E9%87%8C%E9%9D%A2%E5%8C%85%E5%90%AB%E4%BA%86%E4%B8%80%E5%A0%86%E6%A8%A1%E5%9D%97%EF%BC%8C%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%A8%A1%E5%9D%97%E4%B9%8B%E9%97%B4%E4%BC%9A%E4%BA%92%E7%9B%B8%E5%8E%BB%E8%B0%83%E7%94%A8%EF%BC%8C1%20%E5%8F%B0%E6%9C%BA%E5%99%A8%E9%83%A8%E7%BD%B2%E3%80%82%E7%8E%B0%E5%9C%A8%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%8A%8A%E8%BF%99%E4%B8%AA%E7%B3%BB%E7%BB%9F%E7%BB%99%E6%8B%86%E5%BC%80%EF%BC%8C%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F%E3%80%81%E5%91%98%E5%B7%A5%E7%B3%BB%E7%BB%9F%E3%80%81%E8%AF%B7%E5%81%87%E7%B3%BB%E7%BB%9F%E3%80%81%E8%B4%A2%E5%8A%A1%E7%B3%BB%E7%BB%9F%204%20%E4%B8%AA%E7%B3%BB%E7%BB%9F%EF%BC%8C4%20%E4%B8%AA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E5%88%86%E5%88%AB%E5%9C%A8%204%20%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2%E3%80%82%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E8%BF%87%E6%9D%A5%EF%BC%8C%E5%AE%8C%E6%88%90%E8%BF%99%E4%B8%AA%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%91%98%E5%B7%A5%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%B0%83%E7%94%A8%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%B0%83%E7%94%A8%E8%AF%B7%E5%81%87%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%B0%83%E7%94%A8%E8%B4%A2%E5%8A%A1%E7%B3%BB%E7%BB%9F%EF%BC%8C4%20%E4%B8%AA%E7%B3%BB%E7%BB%9F%E5%88%86%E5%88%AB%E5%AE%8C%E6%88%90%E4%BA%86%E4%B8%80%E9%83%A8%E5%88%86%E7%9A%84%E4%BA%8B%E6%83%85%EF%BC%8C%E6%9C%80%E5%90%8E%204%20%E4%B8%AA%E7%B3%BB%E7%BB%9F%E9%83%BD%E5%B9%B2%E5%AE%8C%E4%BA%86%E4%BB%A5%E5%90%8E%EF%BC%8C%E6%89%8D%E8%AE%A4%E4%B8%BA%E6%98%AF%E8%BF%99%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%B7%B2%E7%BB%8F%E5%AE%8C%E6%88%90%E4%BA%86%E3%80%82%0A%0A!%5Bsimple-distributed-system-oa%5D(%2Fimages%2Fsimple-distributed-system-oa.png)%0A%0A%3E%20%E8%BF%91%E5%87%A0%E5%B9%B4%E5%BC%80%E5%A7%8B%E5%85%B4%E8%B5%B7%E5%92%8C%E6%B5%81%E8%A1%8C%20Spring%20Cloud%EF%BC%8C%E5%88%9A%E6%B5%81%E8%A1%8C%EF%BC%8C%E8%BF%98%E6%B2%A1%E5%BC%80%E5%A7%8B%E6%99%AE%E5%8F%8A%EF%BC%8C%E7%9B%AE%E5%89%8D%E6%99%AE%E5%8F%8A%E7%9A%84%E6%98%AF%20dubbo%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%99%E9%87%8C%E4%B9%9F%E4%B8%BB%E8%A6%81%E8%AE%B2%20dubbo%E3%80%82%0A%0A%E9%9D%A2%E8%AF%95%E5%AE%98%E5%8F%AF%E8%83%BD%E4%BC%9A%E9%97%AE%E4%BD%A0%E4%BB%A5%E4%B8%8B%E9%97%AE%E9%A2%98%E3%80%82%0A%23%23%23%20%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%8B%86%E5%88%86%EF%BC%9F%0A-%20%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%8B%86%E5%88%86%EF%BC%9F%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%8B%86%E5%88%86%EF%BC%9F%E6%8B%86%E5%88%86%E5%90%8E%E4%B8%8D%E7%94%A8dubbo%E5%8F%AF%E4%BB%A5%E5%90%97%EF%BC%9Fdubbo%E5%92%8Cthrift%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2%EF%BC%9F%0A%23%23%23%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6%0A-%20%E8%AF%B4%E4%B8%80%E4%B8%8B%E7%9A%84%20dubbo%20%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%9F%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E6%8C%82%E4%BA%86%E5%8F%AF%E4%BB%A5%E7%BB%A7%E7%BB%AD%E9%80%9A%E4%BF%A1%E5%90%97%EF%BC%9F%0A-%20dubbo%20%E6%94%AF%E6%8C%81%E5%93%AA%E4%BA%9B%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%8F%E8%AE%AE%EF%BC%9F%E8%AF%B4%E4%B8%80%E4%B8%8B%20hessian%20%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9FPB%20%E7%9F%A5%E9%81%93%E5%90%97%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%20PB%20%E7%9A%84%E6%95%88%E7%8E%87%E6%98%AF%E6%9C%80%E9%AB%98%E7%9A%84%EF%BC%9F%0A-%20dubbo%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5%E5%92%8C%E9%AB%98%E5%8F%AF%E7%94%A8%E7%AD%96%E7%95%A5%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%AD%96%E7%95%A5%E5%91%A2%EF%BC%9F%0A-%20dubbo%20%E7%9A%84%20spi%20%E6%80%9D%E6%83%B3%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%0A-%20%E5%A6%82%E4%BD%95%E5%9F%BA%E4%BA%8E%20dubbo%20%E8%BF%9B%E8%A1%8C%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E3%80%81%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E3%80%81%E5%A4%B1%E8%B4%A5%E9%87%8D%E8%AF%95%E4%BB%A5%E5%8F%8A%E8%B6%85%E6%97%B6%E9%87%8D%E8%AF%95%EF%BC%9F%0A-%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B9%82%E7%AD%89%E6%80%A7%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%EF%BC%88%E6%AF%94%E5%A6%82%E4%B8%8D%E8%83%BD%E9%87%8D%E5%A4%8D%E6%89%A3%E6%AC%BE%EF%BC%89%EF%BC%9F%0A-%20%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%80%A7%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%EF%BC%9F%0A-%20%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BC%BC%20dubbo%20%E7%9A%84%20rpc%20%E6%A1%86%E6%9E%B6%EF%BC%9F%0A%0A%23%23%23%20%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%0A-%20%E4%BD%BF%E7%94%A8%20redis%20%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%EF%BC%9F%E4%BD%BF%E7%94%A8%20zk%20%E6%9D%A5%E8%AE%BE%E8%AE%A1%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%8F%AF%E4%BB%A5%E5%90%97%EF%BC%9F%E8%BF%99%E4%B8%A4%E7%A7%8D%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E5%93%AA%E7%A7%8D%E6%95%88%E7%8E%87%E6%AF%94%E8%BE%83%E9%AB%98%EF%BC%9F%0A%0A%23%23%23%20%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%0A-%20%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E4%BA%86%E8%A7%A3%E5%90%97%EF%BC%9F%E4%BD%A0%E4%BB%AC%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98%E7%9A%84%EF%BC%9FTCC%20%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%BF%9E%E4%B8%8D%E9%80%9A%E6%80%8E%E4%B9%88%E5%8A%9E%EF%BC%9FXA%20%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%EF%BC%9F%0A%0A%23%23%23%20%E5%88%86%E5%B8%83%E5%BC%8F%E4%BC%9A%E8%AF%9D%0A-%20%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E6%97%B6%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%20session%20%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%EF%BC%9F%0A</center></span>
</div></body></html> 